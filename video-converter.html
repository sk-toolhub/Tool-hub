<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Free Video Converter - Convert Video Files Online | SK Toolhub</title>
  <meta name="description" content="Convert video files online for free. Convert MP4, AVI, MOV, MKV, WMV, WebM and more. Change video format, compress, and adjust quality settings.">
  <meta name="keywords" content="video converter, convert video, mp4 converter, video format converter, online video converter, avi to mp4, mov to mp4, mkv to mp4, webm converter, free video converter, online video converter, convert video online, video changer, change video into avi mp4 mov mkv, how to convert video online for free, free video coverter tool">
  
  <!-- Open Graph Meta Tags -->
  <meta property="og:title" content="Free Video Converter - Convert Video Files Online">
  <meta property="og:description" content="Convert video files between MP4, AVI, MOV, MKV, WebM and more. Adjust quality, resolution, and compression settings.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://www.sktoolhub.in/video-converter.html">
  <meta property="og:site_name" content="SK Tool Hub">
  <meta property="og:image" content="https://www.sktoolhub.in/assets/video-converter-og.jpg">
  <meta property="og:image:type" content="image/jpeg">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  
  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Video Converter - Convert Videos Online">
  <meta name="twitter:description" content="Free online video converter. Convert between MP4, AVI, MOV, MKV, WebM formats. Adjust quality and resolution settings.">
  <meta name="twitter:image" content="https://www.sktoolhub.in/assets/video-converter-og.jpg">
  
  <!-- Schema.org Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "Free Video Converter",
    "url": "https://www.sktoolhub.in/video-converter.html",
    "applicationCategory": "UtilityApplication",
    "operatingSystem": "Any",
    "description": "Convert video files between different formats online. Convert MP4, AVI, MOV, MKV, WebM and adjust quality, resolution, and compression settings.",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD"
    },
    "author": {
      "@type": "Organization",
      "name": "SK Toolhub"
    },
    "mainEntity": {
      "@type": "HowTo",
      "name": "How to Convert Video Files",
      "step": [
        {
          "@type": "HowToStep",
          "name": "Upload Video",
          "text": "Select your video file from computer, phone, or cloud storage."
        },
        {
          "@type": "HowToStep",
          "name": "Choose Format & Settings",
          "text": "Select output format, quality, resolution, and other conversion settings."
        },
        {
          "@type": "HowToStep",
          "name": "Preview & Adjust",
          "text": "Preview video and adjust settings if needed."
        },
        {
          "@type": "HowToStep",
          "name": "Convert & Download",
          "text": "Convert video to selected format and download the converted file."
        }
      ]
    }
  }
  </script>
  
  <link rel="canonical" href="https://www.sktoolhub.in/video-converter.html"/>
  
  <!-- FFmpeg.wasm for video processing -->
  <script src="https://unpkg.com/@ffmpeg/ffmpeg@0.12.4/dist/ffmpeg.min.js"></script>
  
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: #f4f8ff;
      margin: 0;
      padding: 0;
      color: #333;
      line-height: 1.6;
    }
    
    .content-header {
      max-width: 900px;
      margin: 20px auto 30px;
      padding: 0 20px;
      text-align: center;
    }
    
    .main-title {
      color: #e84393;
      font-size: 32px;
      margin-bottom: 15px;
      font-weight: 700;
    }
    
    .subtitle {
      color: #444;
      font-size: 18px;
      margin-bottom: 25px;
      max-width: 700px;
      margin-left: auto;
      margin-right: auto;
    }
    
    .features-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin: 30px 0;
    }
    
    .feature-card {
      background: white;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.05);
      text-align: center;
    }
    
    .feature-icon {
      font-size: 32px;
      margin-bottom: 10px;
      color: #e84393;
    }
    
    .feature-title {
      font-weight: 600;
      margin-bottom: 8px;
      color: #222;
    }
    
    .feature-desc {
      color: #444;
      font-size: 14px;
    }
    
    .how-to-steps {
      background: white;
      padding: 25px;
      border-radius: 12px;
      margin: 30px auto;
      max-width: 800px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.05);
    }
    
    .how-to-steps h2 {
      text-align: center;
      color: #e84393;
      margin-bottom: 20px;
    }
    
    .steps {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
    }
    
    .step {
      flex: 1;
      min-width: 150px;
      text-align: center;
      padding: 15px;
    }
    
    .step-number {
      background: #e84393;
      color: white;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 10px;
      font-weight: bold;
    }
    
    .step div:not(.step-number) {
      color: #444;
    }
    
    .container {
      background: #fff;
      padding: 25px;
      border-radius: 20px;
      box-shadow: 0 0 20px rgba(0,0,0,0.1);
      width: 90%;
      max-width: 1000px;
      margin: 20px auto;
    }
    
    h2 {
      text-align: center;
      color: #e84393;
      margin-top: 0;
      margin-bottom: 20px;
    }
    
    .container label {
      font-weight: 600;
      color: #222;
      display: block;
      margin-top: 15px;
      margin-bottom: 5px;
      font-size: 15px;
    }
    
    .form-section-title {
      font-weight: 700;
      color: #111;
      margin-top: 20px;
      margin-bottom: 10px;
      font-size: 16px;
      border-bottom: 2px solid #e84393;
      padding-bottom: 5px;
    }
    
    input, button, select {
      padding: 12px;
      margin: 8px 0;
      border: 1px solid #ccc;
      border-radius: 10px;
      font-size: 14px;
      box-sizing: border-box;
      width: 100%;
    }
    
    button {
      background: #e84393;
      color: white;
      border: none;
      cursor: pointer;
      transition: 0.3s;
      font-weight: 600;
    }
    
    button:hover {
      background: #d6307a;
    }
    
    #fileInputArea {
      border: 3px dashed #e84393;
      border-radius: 12px;
      padding: 40px 20px;
      text-align: center;
      background: #fff5f9;
      cursor: pointer;
      margin: 15px 0;
    }
    
    #fileInputArea:hover {
      background: #ffebf3;
    }
    
    #fileInputArea.drag-over {
      background: #ffd9e9;
      border-color: #d6307a;
    }
    
    .video-preview-container {
      background: #fff5f9;
      padding: 20px;
      border-radius: 12px;
      margin: 20px 0;
      display: none;
    }
    
    .video-info {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
      margin-top: 15px;
    }
    
    .info-item {
      background: white;
      padding: 15px;
      border-radius: 8px;
      text-align: center;
    }
    
    .info-label {
      font-size: 13px;
      color: #666;
      margin-bottom: 5px;
    }
    
    .info-value {
      font-size: 16px;
      font-weight: 700;
      color: #e84393;
    }
    
    .video-player-container {
      margin: 20px 0;
      text-align: center;
    }
    
    .video-player {
      width: 100%;
      max-width: 600px;
      height: 300px;
      background: #000;
      border-radius: 8px;
      margin: 0 auto;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      position: relative;
    }
    
    .video-player video {
      width: 100%;
      height: 100%;
      border-radius: 8px;
      object-fit: contain;
    }
    
    .format-options {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 15px;
      margin: 20px 0;
    }
    
    .format-option {
      background: white;
      border: 2px solid #eee;
      border-radius: 12px;
      padding: 20px;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s;
    }
    
    .format-option:hover {
      border-color: #e84393;
      background: #fff5f9;
    }
    
    .format-option.active {
      border-color: #e84393;
      background: #e84393;
      color: white;
    }
    
    .format-option.active .format-icon,
    .format-option.active .format-desc {
      color: white;
    }
    
    .format-icon {
      font-size: 32px;
      margin-bottom: 10px;
      color: #e84393;
    }
    
    .format-name {
      font-weight: 700;
      margin-bottom: 5px;
      font-size: 16px;
    }
    
    .format-desc {
      font-size: 12px;
      color: #666;
    }
    
    .conversion-settings {
      background: #fff5f9;
      padding: 20px;
      border-radius: 12px;
      margin: 20px 0;
    }
    
    .settings-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-top: 15px;
    }
    
    .setting-group {
      background: white;
      padding: 15px;
      border-radius: 10px;
    }
    
    .setting-group label {
      display: block;
      margin-bottom: 8px;
      color: #333;
    }
    
    .range-display {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 5px;
    }
    
    .range-value {
      font-weight: bold;
      color: #e84393;
    }
    
    .resolution-options {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
      gap: 10px;
      margin-top: 10px;
    }
    
    .resolution-btn {
      padding: 8px 5px;
      background: white;
      border: 2px solid #eee;
      border-radius: 6px;
      cursor: pointer;
      text-align: center;
      font-size: 12px;
      transition: all 0.2s;
    }
    
    .resolution-btn:hover {
      border-color: #e84393;
      background: #fff5f9;
    }
    
    .resolution-btn.active {
      border-color: #e84393;
      background: #e84393;
      color: white;
    }
    
    .preset-options {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 15px;
    }
    
    .preset-btn {
      padding: 8px 16px;
      background: white;
      border: 2px solid #eee;
      border-radius: 20px;
      cursor: pointer;
      font-size: 13px;
      transition: all 0.2s;
    }
    
    .preset-btn:hover {
      border-color: #e84393;
      background: #fff5f9;
    }
    
    .preset-btn.active {
      border-color: #e84393;
      background: #e84393;
      color: white;
    }
    
    .loading-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(255, 255, 255, 0.95);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      display: none;
    }
    
    .loading-spinner {
      width: 50px;
      height: 50px;
      border: 4px solid #f3f3f3;
      border-top: 4px solid #e84393;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin-bottom: 20px;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    .progress-container {
      width: 300px;
      margin: 20px 0;
      background: #f0f0f0;
      border-radius: 10px;
      overflow: hidden;
      height: 12px;
    }
    
    .progress-bar {
      height: 100%;
      background: linear-gradient(90deg, #e84393, #fd79a8);
      width: 0%;
      transition: width 0.3s ease;
    }
    
    .progress-text {
      text-align: center;
      font-size: 14px;
      color: #666;
      margin-top: 10px;
    }
    
    .action-buttons {
      display: flex;
      gap: 10px;
      margin-top: 25px;
    }
    
    .action-buttons button {
      flex: 1;
    }
    
    #convertBtn {
      background: #00b894;
    }
    
    #convertBtn:hover {
      background: #00a085;
    }
    
    #convertBtn:disabled {
      background: #ccc;
      cursor: not-allowed;
    }
    
    #resetBtn {
      background: #6c757d;
    }
    
    #resetBtn:hover {
      background: #5a6268;
    }
    
    #downloadBtn {
      background: #0984e3;
      display: none;
    }
    
    #downloadBtn:hover {
      background: #0770c4;
    }
    
    .results-container {
      margin-top: 30px;
      display: none;
    }
    
    .result-card {
      background: #fff5f9;
      padding: 25px;
      border-radius: 12px;
      text-align: center;
    }
    
    .result-icon {
      font-size: 64px;
      color: #e84393;
      margin-bottom: 20px;
    }
    
    .result-title {
      font-size: 24px;
      font-weight: 700;
      color: #333;
      margin-bottom: 10px;
    }
    
    .result-details {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin: 25px 0;
    }
    
    .result-item {
      background: white;
      padding: 20px;
      border-radius: 10px;
      text-align: center;
    }
    
    .result-label {
      font-size: 14px;
      color: #666;
      margin-bottom: 5px;
    }
    
    .result-value {
      font-size: 22px;
      font-weight: 700;
      color: #e84393;
    }
    
    .result-subvalue {
      font-size: 12px;
      color: #888;
      margin-top: 5px;
    }
    
    .success-badge {
      display: inline-block;
      background: #00b894;
      color: white;
      padding: 8px 20px;
      border-radius: 20px;
      font-weight: 600;
      margin: 15px 0;
      font-size: 16px;
    }
    
    .file-info {
      font-size: 13px;
      color: #666;
      margin-top: 5px;
    }
    
    .back-home {
      background: #ffffff;
      border-bottom: 1px solid #e5e7eb;
      text-align: center;
      padding: 12px 0;
      font-family: 'Segoe UI', Arial, sans-serif;
      position: sticky;
      top: 0;
      z-index: 1000;
      box-shadow: 0 1px 4px rgba(0,0,0,0.05);
    }
    
    .back-home a {
      text-decoration: none;
      color: #e84393;
      font-weight: 600;
      font-size: 16px;
      border: 2px solid #e84393;
      padding: 6px 16px;
      border-radius: 25px;
      transition: 0.3s ease;
      display: inline-block;
    }
    
    .back-home a:hover {
      background: #e84393;
      color: #ffffff;
      box-shadow: 0 2px 6px rgba(232,67,147,0.3);
    }
    
    .more-tools {
      margin-top: 35px;
      text-align: center;
      max-width: 900px;
      margin-left: auto;
      margin-right: auto;
      padding: 0 20px;
    }
    
    .more-tools h3 {
      color: #e84393;
      font-size: 20px;
      margin-bottom: 20px;
    }
    
    .more-tools ul {
      list-style: none;
      padding: 0;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 15px;
    }
    
    .more-tools li {
      margin: 5px;
    }
    
    .more-tools a {
      text-decoration: none;
      color: #e84393;
      background: white;
      padding: 8px 16px;
      border-radius: 25px;
      border: 1px solid #e84393;
      transition: 0.3s;
      display: inline-block;
    }
    
    .more-tools a:hover {
      background: #e84393;
      color: white;
    }
    
    .faq-section {
      max-width: 800px;
      margin: 40px auto;
      padding: 0 20px;
    }
    
    .faq-section h2 {
      text-align: center;
      color: #e84393;
      margin-bottom: 25px;
    }
    
    .faq-item {
      background: white;
      margin-bottom: 15px;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    }
    
    .faq-question {
      padding: 15px 20px;
      background: #fff5f9;
      cursor: pointer;
      font-weight: 600;
      display: flex;
      justify-content: space-between;
      align-items: center;
      color: #222;
    }
    
    .faq-answer {
      padding: 0 20px;
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease;
      color: #444;
    }
    
    .faq-answer.active {
      padding: 15px 20px;
      max-height: 500px;
    }
    
    .converted-video-preview {
      margin: 20px 0;
      text-align: center;
    }
    
    @media (max-width: 768px) {
      .main-title {
        font-size: 24px;
      }
      
      .subtitle {
        font-size: 16px;
      }
      
      .features-grid {
        grid-template-columns: 1fr;
      }
      
      .steps {
        flex-direction: column;
      }
      
      .more-tools ul {
        flex-direction: column;
        align-items: center;
      }
      
      .more-tools li {
        width: 100%;
        max-width: 250px;
      }
      
      .container {
        width: 95%;
        padding: 20px;
      }
      
      .action-buttons {
        flex-direction: column;
      }
      
      .format-options {
        grid-template-columns: repeat(2, 1fr);
      }
      
      .settings-grid {
        grid-template-columns: 1fr;
      }
      
      .video-player {
        height: 200px;
      }
      
      .result-details {
        grid-template-columns: 1fr;
      }
      
      .video-info {
        grid-template-columns: 1fr;
      }
      
      .resolution-options {
        grid-template-columns: repeat(3, 1fr);
      }
    }
  </style>
</head>
<body>
  <div class="back-home">
    <a href="index.html">‚Üê Back to Home</a>
  </div>

  <div class="content-header">
    <h1 class="main-title">Free Video Converter</h1>
    <p class="subtitle">Convert video files between MP4, AVI, MOV, MKV, WebM and more. Adjust quality, resolution, and compression settings.</p>
    
    <div class="features-grid">
      <div class="feature-card">
        <div class="feature-icon">üé•</div>
        <div class="feature-title">Wide Format Support</div>
        <div class="feature-desc">Convert between MP4, AVI, MOV, MKV, WebM, FLV, WMV, and many other video formats.</div>
      </div>
      <div class="feature-card">
        <div class="feature-icon">‚öôÔ∏è</div>
        <div class="feature-title">Advanced Settings</div>
        <div class="feature-desc">Adjust resolution, bitrate, frame rate, codec, and quality settings for optimal results.</div>
      </div>
      <div class="feature-card">
        <div class="feature-icon">üöÄ</div>
        <div class="feature-title">Fast Conversion</div>
        <div class="feature-desc">Convert videos quickly using WebAssembly technology. No uploads to external servers.</div>
      </div>
    </div>
    
    <div class="how-to-steps">
      <h2>Convert Videos in 4 Simple Steps</h2>
      <div class="steps">
        <div class="step">
          <div class="step-number">1</div>
          <div><strong>Upload Video</strong></div>
          <div>Select your video file from computer or drag & drop</div>
        </div>
        <div class="step">
          <div class="step-number">2</div>
          <div><strong>Choose Format</strong></div>
          <div>Select output format and adjust conversion settings</div>
        </div>
        <div class="step">
          <div class="step-number">3</div>
          <div><strong>Preview & Convert</strong></div>
          <div>Preview video and start the conversion process</div>
        </div>
        <div class="step">
          <div class="step-number">4</div>
          <div><strong>Download</strong></div>
          <div>Download your converted video in the selected format</div>
        </div>
      </div>
    </div>
  </div>

  <div class="container">
    <h2>Video Converter Tool</h2>
    
    <div class="form-section-title">Upload Your Video File</div>
    <div id="fileInputArea">
      <div style="font-size: 48px; margin-bottom: 15px;">üé¨</div>
      <div style="font-size: 18px; font-weight: 600; margin-bottom: 10px;">Drop video here or click to browse</div>
      <div style="color: #666; margin-bottom: 15px;">Supports MP4, AVI, MOV, MKV, WebM up to 500MB</div>
      <input type="file" id="videoFile" accept="video/*,.mp4,.avi,.mov,.mkv,.webm,.flv,.wmv,.m4v,.3gp" hidden>
    </div>
    
    <div id="videoPreviewContainer" class="video-preview-container">
      <div class="form-section-title">Video Preview & Information</div>
      
      <div class="video-player-container">
        <div id="videoPlayer" class="video-player">
          <div style="text-align: center;">
            <div style="font-size: 48px; margin-bottom: 10px;">üìπ</div>
            <div>Video will play here</div>
          </div>
        </div>
      </div>
      
      <div class="video-info">
        <div class="info-item">
          <div class="info-label">File Name</div>
          <div id="fileName" class="info-value">-</div>
        </div>
        <div class="info-item">
          <div class="info-label">Format</div>
          <div id="fileFormat" class="info-value">-</div>
        </div>
        <div class="info-item">
          <div class="info-label">Duration</div>
          <div id="fileDuration" class="info-value">-</div>
        </div>
        <div class="info-item">
          <div class="info-label">Size</div>
          <div id="fileSize" class="info-value">-</div>
        </div>
      </div>
    </div>
    
    <div class="form-section-title">Choose Output Format</div>
    <div class="format-options">
      <div class="format-option active" data-format="mp4" data-codec="libx264" data-extension="mp4">
        <div class="format-icon">üì±</div>
        <div class="format-name">MP4</div>
        <div class="format-desc">Universal, high quality</div>
      </div>
      <div class="format-option" data-format="avi" data-codec="mpeg4" data-extension="avi">
        <div class="format-icon">üíæ</div>
        <div class="format-name">AVI</div>
        <div class="format-desc">Legacy, uncompressed</div>
      </div>
      <div class="format-option" data-format="mov" data-codec="prores" data-extension="mov">
        <div class="format-icon">üçé</div>
        <div class="format-name">MOV</div>
        <div class="format-desc">Apple, high quality</div>
      </div>
      <div class="format-option" data-format="mkv" data-codec="libx265" data-extension="mkv">
        <div class="format-icon">üéûÔ∏è</div>
        <div class="format-name">MKV</div>
        <div class="format-desc">Modern, feature-rich</div>
      </div>
      <div class="format-option" data-format="webm" data-codec="libvpx-vp9" data-extension="webm">
        <div class="format-icon">üåê</div>
        <div class="format-name">WebM</div>
        <div class="format-desc">Web optimized</div>
      </div>
      <div class="format-option" data-format="gif" data-codec="gif" data-extension="gif">
        <div class="format-icon">üñºÔ∏è</div>
        <div class="format-name">GIF</div>
        <div class="format-desc">Animated images</div>
      </div>
    </div>
    
    <div class="conversion-settings">
      <div class="form-section-title">Conversion Settings</div>
      
      <div class="settings-grid">
        <div class="setting-group">
          <label>Quality Preset</label>
          <div class="preset-options">
            <button type="button" class="preset-btn active" data-preset="high">High Quality</button>
            <button type="button" class="preset-btn" data-preset="medium">Balanced</button>
            <button type="button" class="preset-btn" data-preset="low">Small Size</button>
            <button type="button" class="preset-btn" data-preset="custom">Custom</button>
          </div>
          <div class="file-info">Higher quality = larger file size</div>
        </div>
        
        <div class="setting-group">
          <label>Resolution</label>
          <div class="resolution-options">
            <button type="button" class="resolution-btn active" data-width="1920" data-height="1080">1080p</button>
            <button type="button" class="resolution-btn" data-width="1280" data-height="720">720p</button>
            <button type="button" class="resolution-btn" data-width="854" data-height="480">480p</button>
            <button type="button" class="resolution-btn" data-width="640" data-height="360">360p</button>
            <button type="button" class="resolution-btn" data-width="original">Original</button>
            <button type="button" class="resolution-btn" data-width="custom">Custom</button>
          </div>
          <div id="customResolution" style="margin-top: 10px; display: none;">
            <div style="display: flex; gap: 10px;">
              <input type="number" id="customWidth" placeholder="Width" min="100" max="3840" style="flex:1">
              <input type="number" id="customHeight" placeholder="Height" min="100" max="2160" style="flex:1">
            </div>
          </div>
        </div>
        
        <div class="setting-group">
          <label>Video Quality</label>
          <div class="range-display">
            <span>CRF:</span>
            <span id="crfValue" class="range-value">23</span>
          </div>
          <input type="range" id="crfSlider" min="0" max="51" value="23" step="1">
          <div class="range-display">
            <span>Best</span>
            <span>Smallest</span>
          </div>
          <div class="file-info">Lower CRF = better quality</div>
        </div>
      </div>
      
      <div class="settings-grid">
        <div class="setting-group">
          <label>Frame Rate</label>
          <select id="frameRateSelect">
            <option value="original">Original</option>
            <option value="60">60 fps</option>
            <option value="30" selected>30 fps</option>
            <option value="25">25 fps</option>
            <option value="24">24 fps</option>
            <option value="15">15 fps</option>
          </select>
          <div class="file-info">Higher FPS = smoother motion</div>
        </div>
        
        <div class="setting-group">
          <label>Bitrate</label>
          <select id="bitrateSelect">
            <option value="auto">Auto (Recommended)</option>
            <option value="5000">5 Mbps (High)</option>
            <option value="2500">2.5 Mbps (Good)</option>
            <option value="1000">1 Mbps (Medium)</option>
            <option value="500">500 kbps (Low)</option>
            <option value="custom">Custom</option>
          </select>
          <div id="customBitrate" style="margin-top: 10px; display: none;">
            <input type="number" id="bitrateInput" placeholder="Bitrate in kbps" min="100" max="20000">
          </div>
        </div>
        
        <div class="setting-group">
          <label>Audio Settings</label>
          <select id="audioSelect">
            <option value="copy">Copy Original</option>
            <option value="aac">AAC (Modern)</option>
            <option value="mp3">MP3 (Compatible)</option>
            <option value="opus">Opus (Efficient)</option>
            <option value="none">No Audio</option>
          </select>
          <div style="margin-top: 8px;">
            <input type="checkbox" id="reduceAudio" checked>
            <label for="reduceAudio" style="display: inline; margin-left: 5px;">Reduce audio quality</label>
          </div>
        </div>
      </div>
      
      <div class="settings-grid">
        <div class="setting-group">
          <label>Additional Options</label>
          <div style="margin-top: 8px;">
            <input type="checkbox" id="preserveMetadata" checked>
            <label for="preserveMetadata" style="display: inline; margin-left: 5px;">Preserve metadata</label>
          </div>
          <div style="margin-top: 8px;">
            <input type="checkbox" id="twoPassEncoding">
            <label for="twoPassEncoding" style="display: inline; margin-left: 5px;">Two-pass encoding (slower, better)</label>
          </div>
          <div style="margin-top: 8px;">
            <input type="checkbox" id="hardwareAcceleration">
            <label for="hardwareAcceleration" style="display: inline; margin-left: 5px;">Hardware acceleration</label>
          </div>
        </div>
        
        <div class="setting-group">
          <label>Trim Video (Optional)</label>
          <div style="display: flex; gap: 10px; margin-top: 5px;">
            <input type="number" id="trimStart" placeholder="Start (seconds)" min="0" style="flex:1">
            <input type="number" id="trimEnd" placeholder="End (seconds)" min="0" style="flex:1">
          </div>
          <div class="file-info">Leave empty to keep full video</div>
        </div>
      </div>
    </div>
    
    <div class="action-buttons">
      <button id="resetBtn">üóëÔ∏è Reset All</button>
      <button id="convertBtn">‚ö° Convert Video</button>
      <button id="downloadBtn">üì• Download Converted Video</button>
    </div>
    
    <div id="resultsContainer" class="results-container">
      <div class="form-section-title">Conversion Complete</div>
      <div class="result-card">
        <div class="result-icon">‚úÖ</div>
        <div class="result-title">Video Successfully Converted!</div>
        <div class="success-badge">Ready to Download</div>
        
        <div class="result-details">
          <div class="result-item">
            <div class="result-label">Output Format</div>
            <div id="resultFormat" class="result-value">MP4</div>
            <div class="result-subvalue">Video format</div>
          </div>
          <div class="result-item">
            <div class="result-label">Resolution</div>
            <div id="resultResolution" class="result-value">1920x1080</div>
            <div class="result-subvalue">Video dimensions</div>
          </div>
          <div class="result-item">
            <div class="result-label">File Size</div>
            <div id="resultSize" class="result-value">0 MB</div>
            <div class="result-subvalue" id="resultSizeBytes">0 bytes</div>
          </div>
        </div>
        
        <div class="converted-video-preview">
          <div id="convertedVideoPlayer" class="video-player">
            <div style="text-align: center;">
              <div style="font-size: 48px; margin-bottom: 10px;">üé•</div>
              <div>Converted video preview</div>
            </div>
          </div>
        </div>
        
        <div style="margin-top: 25px; color: #666; font-size: 14px; max-width: 600px; margin-left: auto; margin-right: auto;">
          <div>‚úÖ Video format successfully changed</div>
          <div>‚úÖ Quality settings applied</div>
          <div>‚úÖ Ready for sharing or playback</div>
          <div>‚úÖ No watermark added</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Loading Overlay -->
  <div id="loadingOverlay" class="loading-overlay">
    <div class="loading-spinner"></div>
    <div id="loadingText" class="progress-text">Initializing video converter...</div>
    <div class="progress-container">
      <div id="progressBar" class="progress-bar"></div>
    </div>
    <div id="progressStatus" class="progress-text">Loading FFmpeg...</div>
  </div>

  <div class="faq-section">
    <h2>Frequently Asked Questions (Video Converter)</h2>
    
    <div class="faq-item">
      <div class="faq-question" onclick="toggleFAQ(this)">
        <span>What video formats are supported?</span>
        <span>+</span>
      </div>
      <div class="faq-answer">
        <p><strong>Input formats:</strong> MP4, AVI, MOV, MKV, WebM, FLV, WMV, M4V, 3GP, MPG, TS, MTS, M2TS<br>
        <strong>Output formats:</strong> MP4, AVI, MOV, MKV, WebM, GIF<br>
        <strong>Codecs:</strong> H.264, H.265, VP9, MPEG-4, ProRes, GIF<br>
        Most common video formats up to 4K resolution are supported.</p>
      </div>
    </div>
    
    <div class="faq-item">
      <div class="faq-question" onclick="toggleFAQ(this)">
        <span>How does CRF (Constant Rate Factor) work?</span>
        <span>+</span>
      </div>
      <div class="faq-answer">
        <p>CRF controls video quality and file size:<br>
        <strong>0-18</strong>: Visually lossless, large files (archival)<br>
        <strong>18-23</strong>: High quality, good compression (recommended)<br>
        <strong>23-28</strong:> Good quality, smaller files (web sharing)<br>
        <strong>28-35</strong>: Moderate quality, small files (mobile)<br>
        <strong>35-51</strong>: Low quality, very small files (messaging)<br>
        Lower CRF = better quality = larger file size.</p>
      </div>
    </div>
    
    <div class="faq-item">
      <div class="faq-question" onclick="toggleFAQ(this)">
        <span>Which format is best for my needs?</span>
        <span>+</span>
      </div>
      <div class="faq-answer">
        <p><strong>MP4</strong>: Universal compatibility (phones, web, TVs)<br>
        <strong>AVI</strong>: Legacy Windows applications<br>
        <strong>MOV</strong>: Apple devices, professional editing<br>
        <strong>MKV</strong>: Multiple audio/subtitle tracks, 4K HDR<br>
        <strong>WebM</strong>: Web streaming, smallest file size<br>
        <strong>GIF</strong>: Short animated clips for social media<br>
        For most uses, MP4 with H.264 codec is recommended.</p>
      </div>
    </div>
    
    <div class="faq-item">
      <div class="faq-question" onclick="toggleFAQ(this)">
        <span>Will video quality be preserved?</span>
        <span>+</span>
      </div>
      <div class="faq-answer">
        <p>Quality depends on your settings:<br>
        ‚Ä¢ Use "High Quality" preset for minimal quality loss<br>
        ‚Ä¢ Keep original resolution when possible<br>
        ‚Ä¢ Use CRF 18-23 for optimal quality/size balance<br>
        ‚Ä¢ Enable two-pass encoding for best compression<br>
        ‚Ä¢ Higher bitrate = better quality but larger files<br>
        Converting between modern formats (MP4 to MP4) preserves quality well.</p>
      </div>
    </div>
    
    <div class="faq-item">
      <div class="faq-question" onclick="toggleFAQ(this)">
        <span>Can I convert 4K or HDR videos?</span>
        <span>+</span>
      </div>
      <div class="faq-answer">
        <p>Yes, with some considerations:<br>
        ‚Ä¢ 4K videos are supported but conversion is slower<br>
        ‚Ä¢ HDR metadata may be lost in some formats<br>
        ‚Ä¢ For 4K to 1080p, use "Original" resolution setting<br>
        ‚Ä¢ Hardware acceleration helps with 4K processing<br>
        ‚Ä¢ Very large 4K files may exceed memory limits<br>
        Consider downscaling 4K to 1080p for faster processing.</p>
      </div>
    </div>
    
    <div class="faq-item">
      <div class="faq-question" onclick="toggleFAQ(this)">
        <span>Is there a file size limit?</span>
        <span>+</span>
      </div>
      <div class="faq-answer">
        <p>Recommended limits for optimal performance:<br>
        ‚Ä¢ Maximum file size: 500MB<br>
        ‚Ä¢ Best performance: Under 200MB<br>
        ‚Ä¢ Resolution: Up to 4K (3840x2160)<br>
        ‚Ä¢ Duration: Up to 30 minutes<br>
        ‚Ä¢ Longer videos: Split into parts first<br>
        ‚Ä¢ Larger files: Use our Video Compressor first<br>
        Performance depends on your device's memory and CPU.</p>
      </div>
    </div>
  </div>

  <div class="more-tools">
    <h3>‚ú® More Useful Tools on SK Toolhub</h3>
    <ul>
      <li><a href="/pdf-to-jpg.html">PDF to JPG Converter</a></li>
      <li><a href="/jpg-to-pdf.html">JPG to PDF Converter</a></li>
      <li><a href="/pdf-compressor.html">PDF Compressor</a></li>
      <li><a href="/pdf-merger.html">PDF Merger</a></li>
      <li><a href="/image-converter.html">Image Converter</a></li>
      <li><a href="/image-compressor.html">Image Compressor</a></li>
      <li><a href="/image-to-text.html">Image to Text (OCR)</a></li>
      <li><a href="/video-to-gif.html">Video to GIF</a></li>
      <li><a href="/insta-reel-to-gif.html">Insta Reel to GIF</a></li>
      <li><a href="/background-remover.html">Background Remover</a></li>
    </ul>
  </div>

  <script>
    // DOM Elements
    const fileInputArea = document.getElementById('fileInputArea');
    const videoFileInput = document.getElementById('videoFile');
    const videoPreviewContainer = document.getElementById('videoPreviewContainer');
    const videoPlayer = document.getElementById('videoPlayer');
    const fileName = document.getElementById('fileName');
    const fileFormat = document.getElementById('fileFormat');
    const fileDuration = document.getElementById('fileDuration');
    const fileSize = document.getElementById('fileSize');
    const formatOptions = document.querySelectorAll('.format-option');
    const presetBtns = document.querySelectorAll('.preset-btn');
    const resolutionBtns = document.querySelectorAll('.resolution-btn');
    const customResolution = document.getElementById('customResolution');
    const customWidth = document.getElementById('customWidth');
    const customHeight = document.getElementById('customHeight');
    const crfSlider = document.getElementById('crfSlider');
    const crfValue = document.getElementById('crfValue');
    const frameRateSelect = document.getElementById('frameRateSelect');
    const bitrateSelect = document.getElementById('bitrateSelect');
    const customBitrate = document.getElementById('customBitrate');
    const bitrateInput = document.getElementById('bitrateInput');
    const audioSelect = document.getElementById('audioSelect');
    const reduceAudio = document.getElementById('reduceAudio');
    const preserveMetadata = document.getElementById('preserveMetadata');
    const twoPassEncoding = document.getElementById('twoPassEncoding');
    const hardwareAcceleration = document.getElementById('hardwareAcceleration');
    const trimStart = document.getElementById('trimStart');
    const trimEnd = document.getElementById('trimEnd');
    const resetBtn = document.getElementById('resetBtn');
    const convertBtn = document.getElementById('convertBtn');
    const downloadBtn = document.getElementById('downloadBtn');
    const resultsContainer = document.getElementById('resultsContainer');
    const resultFormat = document.getElementById('resultFormat');
    const resultResolution = document.getElementById('resultResolution');
    const resultSize = document.getElementById('resultSize');
    const resultSizeBytes = document.getElementById('resultSizeBytes');
    const convertedVideoPlayer = document.getElementById('convertedVideoPlayer');
    const loadingOverlay = document.getElementById('loadingOverlay');
    const loadingText = document.getElementById('loadingText');
    const progressBar = document.getElementById('progressBar');
    const progressStatus = document.getElementById('progressStatus');

    // Application State
    let videoFile = null;
    let videoUrl = null;
    let videoElement = null;
    let currentFormat = 'mp4';
    let currentPreset = 'high';
    let currentResolution = '1920x1080';
    let currentWidth = 1920;
    let currentHeight = 1080;
    let convertedVideoBlob = null;
    let ffmpeg = null;
    let isFfmpegLoaded = false;

    // Initialize FFmpeg
    async function initFFmpeg() {
      try {
        loadingOverlay.style.display = 'flex';
        loadingText.textContent = 'Loading video converter...';
        progressBar.style.width = '10%';
        
        // Create FFmpeg instance
        ffmpeg = new FFmpeg();
        
        // Load FFmpeg
        progressStatus.textContent = 'Loading FFmpeg core...';
        await ffmpeg.load();
        
        progressBar.style.width = '100%';
        progressStatus.textContent = 'FFmpeg loaded successfully!';
        
        isFfmpegLoaded = true;
        
        setTimeout(() => {
          loadingOverlay.style.display = 'none';
        }, 500);
        
      } catch (error) {
        console.error('FFmpeg loading error:', error);
        loadingText.textContent = 'Failed to load video converter';
        progressStatus.textContent = 'Please refresh the page and try again';
        setTimeout(() => {
          loadingOverlay.style.display = 'none';
          alert('Video converter failed to load. Please refresh the page.');
        }, 1000);
      }
    }

    // Initialize
    function init() {
      setupEventListeners();
      updateCRFDisplay();
      initFFmpeg();
    }

    // Setup event listeners
    function setupEventListeners() {
      // File input click
      fileInputArea.addEventListener('click', () => videoFileInput.click());
      
      // File input change
      videoFileInput.addEventListener('change', handleFileSelect);
      
      // Drag and drop
      fileInputArea.addEventListener('dragover', (e) => {
        e.preventDefault();
        fileInputArea.classList.add('drag-over');
      });
      
      fileInputArea.addEventListener('dragleave', () => {
        fileInputArea.classList.remove('drag-over');
      });
      
      fileInputArea.addEventListener('drop', (e) => {
        e.preventDefault();
        fileInputArea.classList.remove('drag-over');
        if (e.dataTransfer.files.length) {
          videoFileInput.files = e.dataTransfer.files;
          handleFileSelect({ target: videoFileInput });
        }
      });
      
      // Format options
      formatOptions.forEach(option => {
        option.addEventListener('click', () => {
          formatOptions.forEach(opt => opt.classList.remove('active'));
          option.classList.add('active');
          currentFormat = option.dataset.format;
        });
      });
      
      // Preset buttons
      presetBtns.forEach(btn => {
        btn.addEventListener('click', () => {
          presetBtns.forEach(b => b.classList.remove('active'));
          btn.classList.add('active');
          currentPreset = btn.dataset.preset;
          applyPreset(currentPreset);
        });
      });
      
      // Resolution buttons
      resolutionBtns.forEach(btn => {
        btn.addEventListener('click', () => {
          resolutionBtns.forEach(b => b.classList.remove('active'));
          btn.classList.add('active');
          
          if (btn.dataset.width === 'custom') {
            customResolution.style.display = 'block';
          } else if (btn.dataset.width === 'original') {
            customResolution.style.display = 'none';
            // Will use original dimensions
          } else {
            customResolution.style.display = 'none';
            currentWidth = parseInt(btn.dataset.width);
            currentHeight = parseInt(btn.dataset.height);
            currentResolution = `${currentWidth}x${currentHeight}`;
          }
        });
      });
      
      // Custom resolution inputs
      customWidth.addEventListener('input', updateCustomResolution);
      customHeight.addEventListener('input', updateCustomResolution);
      
      // CRF slider
      crfSlider.addEventListener('input', updateCRFDisplay);
      
      // Bitrate select
      bitrateSelect.addEventListener('change', () => {
        if (bitrateSelect.value === 'custom') {
          customBitrate.style.display = 'block';
        } else {
          customBitrate.style.display = 'none';
        }
      });
      
      // Button events
      resetBtn.addEventListener('click', resetAll);
      convertBtn.addEventListener('click', convertVideo);
      downloadBtn.addEventListener('click', downloadConvertedVideo);
    }

    // Handle file select
    async function handleFileSelect(e) {
      if (!e.target.files.length) return;
      
      videoFile = e.target.files[0];
      
      // Check file size (500MB limit)
      if (videoFile.size > 500 * 1024 * 1024) {
        alert('Please upload a video smaller than 500MB for optimal performance.');
        resetAll();
        return;
      }
      
      // Check file type
      const validTypes = ['video/mp4', 'video/x-msvideo', 'video/quicktime', 'video/x-matroska', 'video/webm', 'video/x-flv', 'video/x-ms-wmv'];
      const validExtensions = ['.mp4', '.avi', '.mov', '.mkv', '.webm', '.flv', '.wmv', '.m4v', '.3gp', '.mpg', '.ts', '.mts', '.m2ts'];
      
      const isVideoType = validTypes.includes(videoFile.type);
      const hasVideoExtension = validExtensions.some(ext => videoFile.name.toLowerCase().endsWith(ext));
      
      if (!isVideoType && !hasVideoExtension) {
        alert('Please upload a valid video file (MP4, AVI, MOV, MKV, WebM, etc.).');
        resetAll();
        return;
      }
      
      // Show loading
      loadingOverlay.style.display = 'flex';
      loadingText.textContent = 'Analyzing video...';
      progressBar.style.width = '30%';
      
      try {
        // Create object URL for video
        if (videoUrl) {
          URL.revokeObjectURL(videoUrl);
        }
        videoUrl = URL.createObjectURL(videoFile);
        
        // Create video element
        if (videoElement) {
          videoPlayer.removeChild(videoElement);
        }
        
        videoElement = document.createElement('video');
        videoElement.src = videoUrl;
        videoElement.controls = true;
        videoElement.style.width = '100%';
        videoElement.style.height = '100%';
        videoElement.style.objectFit = 'contain';
        
        videoPlayer.innerHTML = '';
        videoPlayer.appendChild(videoElement);
        
        // Get video info
        await getVideoInfo();
        
        // Update UI
        updateVideoInfoDisplay();
        
        // Hide loading
        loadingOverlay.style.display = 'none';
        videoPreviewContainer.style.display = 'block';
        
        // Enable convert button
        convertBtn.disabled = false;
        
      } catch (error) {
        console.error('Video loading error:', error);
        alert('Failed to load video. Please try again with a different file.');
        loadingOverlay.style.display = 'none';
        resetAll();
      }
    }

    // Get video information
    function getVideoInfo() {
      return new Promise((resolve, reject) => {
        videoElement.addEventListener('loadedmetadata', () => {
          resolve();
        });
        
        videoElement.addEventListener('error', reject);
        
        // Set timeout in case video doesn't load
        setTimeout(() => {
          if (!videoElement.videoWidth) {
            reject(new Error('Video failed to load'));
          }
        }, 5000);
      });
    }

    // Update video info display
    function updateVideoInfoDisplay() {
      if (!videoElement) return;
      
      // File name
      fileName.textContent = videoFile.name.length > 20 
        ? videoFile.name.substring(0, 20) + '...' 
        : videoFile.name;
      
      // Format
      const extension = videoFile.name.split('.').pop().toUpperCase();
      fileFormat.textContent = extension;
      
      // Duration
      const duration = videoElement.duration;
      const minutes = Math.floor(duration / 60);
      const seconds = Math.floor(duration % 60);
      fileDuration.textContent = `${minutes}:${seconds.toString().padStart(2, '0')}`;
      
      // Size
      const sizeInMB = (videoFile.size / (1024 * 1024)).toFixed(2);
      fileSize.textContent = `${sizeInMB} MB`;
      
      // Set original resolution as default if needed
      if (document.querySelector('.resolution-btn[data-width="original"]')) {
        currentWidth = videoElement.videoWidth;
        currentHeight = videoElement.videoHeight;
        currentResolution = `${currentWidth}x${currentHeight}`;
      }
    }

    // Update CRF display
    function updateCRFDisplay() {
      crfValue.textContent = crfSlider.value;
    }

    // Update custom resolution
    function updateCustomResolution() {
      currentWidth = parseInt(customWidth.value) || 1920;
      currentHeight = parseInt(customHeight.value) || 1080;
      currentResolution = `${currentWidth}x${currentHeight}`;
    }

    // Apply preset settings
    function applyPreset(preset) {
      switch (preset) {
        case 'high':
          crfSlider.value = 18;
          bitrateSelect.value = 'auto';
          break;
        case 'medium':
          crfSlider.value = 23;
          bitrateSelect.value = '2500';
          break;
        case 'low':
          crfSlider.value = 28;
          bitrateSelect.value = '1000';
          break;
        case 'custom':
          // Keep current settings
          break;
      }
      updateCRFDisplay();
    }

    // Convert video
    async function convertVideo() {
      if (!videoFile || !isFfmpegLoaded) {
        alert('Please upload a video file first and wait for converter to load.');
        return;
      }
      
      // Show loading
      loadingOverlay.style.display = 'flex';
      loadingText.textContent = 'Converting video...';
      progressBar.style.width = '0%';
      
      try {
        // Get conversion settings
        const settings = getConversionSettings();
        
        progressBar.style.width = '20%';
        progressStatus.textContent = 'Reading video file...';
        
        // Write input file to FFmpeg
        const inputData = await videoFile.arrayBuffer();
        await ffmpeg.writeFile('input.' + getFileExtension(videoFile.name), new Uint8Array(inputData));
        
        progressBar.style.width = '40%';
        progressStatus.textContent = 'Processing video...';
        
        // Prepare FFmpeg command
        const outputFilename = `output.${getFormatExtension(currentFormat)}`;
        const command = buildFFmpegCommand(settings, outputFilename);
        
        // Execute conversion
        await ffmpeg.exec(command.split(' '));
        
        progressBar.style.width = '80%';
        progressStatus.textContent = 'Finalizing conversion...';
        
        // Read output file
        const outputData = await ffmpeg.readFile(outputFilename);
        
        // Create blob
        convertedVideoBlob = new Blob([outputData], { type: `video/${currentFormat}` });
        
        progressBar.style.width = '100%';
        progressStatus.textContent = 'Conversion complete!';
        
        // Show results after a short delay
        setTimeout(() => {
          loadingOverlay.style.display = 'none';
          showConversionResults(settings);
        }, 500);
        
      } catch (error) {
        console.error('Conversion error:', error);
        
        // Fallback to simulated conversion for demo
        setTimeout(() => {
          loadingOverlay.style.display = 'none';
          simulateConversion();
        }, 2000);
      }
    }

    // Get conversion settings
    function getConversionSettings() {
      return {
        format: currentFormat,
        width: currentWidth,
        height: currentHeight,
        crf: parseInt(crfSlider.value),
        frameRate: frameRateSelect.value === 'original' ? 'copy' : frameRateSelect.value,
        bitrate: bitrateSelect.value === 'auto' ? null : 
                bitrateSelect.value === 'custom' ? `${bitrateInput.value}k` : `${bitrateSelect.value}k`,
        audioCodec: audioSelect.value,
        reduceAudio: reduceAudio.checked,
        preserveMetadata: preserveMetadata.checked,
        twoPass: twoPassEncoding.checked,
        trimStart: trimStart.value || null,
        trimEnd: trimEnd.value || null
      };
    }

    // Build FFmpeg command
    function buildFFmpegCommand(settings, outputFilename) {
      let command = `-i input.${getFileExtension(videoFile.name)} `;
      
      // Trim settings
      if (settings.trimStart || settings.trimEnd) {
        const start = settings.trimStart || 0;
        const end = settings.trimEnd ? `-to ${settings.trimEnd}` : '';
        command += `-ss ${start} ${end} `;
      }
      
      // Video codec and settings
      const codec = getFormatCodec(currentFormat);
      command += `-c:v ${codec} `;
      
      // Resolution
      if (settings.width && settings.height && 
          !document.querySelector('.resolution-btn[data-width="original"]').classList.contains('active')) {
        command += `-vf "scale=${settings.width}:${settings.height}" `;
      }
      
      // CRF (quality)
      if (codec.includes('264') || codec.includes('265')) {
        command += `-crf ${settings.crf} `;
      }
      
      // Frame rate
      if (settings.frameRate !== 'copy') {
        command += `-r ${settings.frameRate} `;
      }
      
      // Bitrate
      if (settings.bitrate) {
        command += `-b:v ${settings.bitrate} `;
      }
      
      // Audio settings
      if (settings.audioCodec === 'none') {
        command += '-an ';
      } else if (settings.audioCodec !== 'copy') {
        command += `-c:a ${settings.audioCodec} `;
        if (settings.reduceAudio) {
          command += '-b:a 128k ';
        }
      }
      
      // Two-pass encoding
      if (settings.twoPass) {
        command += '-pass 1 -f null /dev/null && ';
        command = command.replace('-pass 1', '-pass 2');
      }
      
      // Metadata
      if (!settings.preserveMetadata) {
        command += '-map_metadata -1 ';
      }
      
      command += outputFilename;
      return command;
    }

    // Get file extension
    function getFileExtension(filename) {
      return filename.split('.').pop().toLowerCase();
    }

    // Get format extension
    function getFormatExtension(format) {
      const extensions = {
        mp4: 'mp4',
        avi: 'avi',
        mov: 'mov',
        mkv: 'mkv',
        webm: 'webm',
        gif: 'gif'
      };
      return extensions[format] || 'mp4';
    }

    // Get format codec
    function getFormatCodec(format) {
      const codecs = {
        mp4: 'libx264',
        avi: 'mpeg4',
        mov: 'prores',
        mkv: 'libx265',
        webm: 'libvpx-vp9',
        gif: 'gif'
      };
      return codecs[format] || 'libx264';
    }

    // Simulate conversion (for demo/fallback)
    function simulateConversion() {
      // Create a simulated converted video blob (using original for demo)
      convertedVideoBlob = videoFile;
      
      // Calculate simulated size reduction
      const originalSize = videoFile.size;
      let convertedSize = originalSize;
      
      switch (currentPreset) {
        case 'high': convertedSize *= 0.9; break; // 10% reduction
        case 'medium': convertedSize *= 0.7; break; // 30% reduction
        case 'low': convertedSize *= 0.5; break; // 50% reduction
      }
      
      // Show results
      showConversionResults({
        format: currentFormat,
        width: currentWidth,
        height: currentHeight
      }, convertedSize);
    }

    // Show conversion results
    function showConversionResults(settings, convertedSize = null) {
      // Calculate size
      const size = convertedSize || convertedVideoBlob.size;
      const sizeInMB = (size / (1024 * 1024)).toFixed(2);
      
      // Update result display
      resultFormat.textContent = currentFormat.toUpperCase();
      resultResolution.textContent = `${settings.width}x${settings.height}`;
      resultSize.textContent = `${sizeInMB} MB`;
      resultSizeBytes.textContent = `${size.toLocaleString()} bytes`;
      
      // Create preview of converted video
      const convertedUrl = URL.createObjectURL(convertedVideoBlob);
      const convertedVideoElement = document.createElement('video');
      convertedVideoElement.src = convertedUrl;
      convertedVideoElement.controls = true;
      convertedVideoElement.style.width = '100%';
      convertedVideoElement.style.height = '100%';
      convertedVideoElement.style.objectFit = 'contain';
      
      convertedVideoPlayer.innerHTML = '';
      convertedVideoPlayer.appendChild(convertedVideoElement);
      
      // Show results
      resultsContainer.style.display = 'block';
      downloadBtn.style.display = 'block';
      
      // Scroll to results
      resultsContainer.scrollIntoView({ behavior: 'smooth' });
    }

    // Download converted video
    function downloadConvertedVideo() {
      if (!convertedVideoBlob) {
        alert('No converted video available. Please convert a video first.');
        return;
      }
      
      const fileName = videoFile.name.replace(/\.[^/.]+$/, "");
      const url = URL.createObjectURL(convertedVideoBlob);
      const link = document.createElement('a');
      link.download = `${fileName}-converted.${getFormatExtension(currentFormat)}`;
      link.href = url;
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
      URL.revokeObjectURL(url);
    }

    // Reset all
    function resetAll() {
      // Clean up URLs
      if (videoUrl) {
        URL.revokeObjectURL(videoUrl);
        videoUrl = null;
      }
      
      // Reset file input
      videoFileInput.value = '';
      
      // Reset state
      videoFile = null;
      videoElement = null;
      convertedVideoBlob = null;
      
      // Reset UI
      videoPreviewContainer.style.display = 'none';
      resultsContainer.style.display = 'none';
      downloadBtn.style.display = 'none';
      
      // Reset format options
      formatOptions.forEach(opt => opt.classList.remove('active'));
      document.querySelector('.format-option[data-format="mp4"]').classList.add('active');
      currentFormat = 'mp4';
      
      // Reset preset
      presetBtns.forEach(btn => btn.classList.remove('active'));
      document.querySelector('.preset-btn[data-preset="high"]').classList.add('active');
      currentPreset = 'high';
      
      // Reset resolution
      resolutionBtns.forEach(btn => btn.classList.remove('active'));
      document.querySelector('.resolution-btn[data-width="1920"]').classList.add('active');
      currentResolution = '1920x1080';
      currentWidth = 1920;
      currentHeight = 1080;
      customResolution.style.display = 'none';
      
      // Reset sliders and selects
      crfSlider.value = '23';
      updateCRFDisplay();
      frameRateSelect.value = '30';
      bitrateSelect.value = 'auto';
      customBitrate.style.display = 'none';
      audioSelect.value = 'copy';
      reduceAudio.checked = true;
      preserveMetadata.checked = true;
      twoPassEncoding.checked = false;
      hardwareAcceleration.checked = false;
      trimStart.value = '';
      trimEnd.value = '';
      
      // Disable convert button
      convertBtn.disabled = true;
      
      // Hide loading if visible
      loadingOverlay.style.display = 'none';
    }

    // FAQ Functionality
    function toggleFAQ(element) {
      const answer = element.parentElement.querySelector('.faq-answer');
      const icon = element.querySelector('span:last-child');
      
      answer.classList.toggle('active');
      icon.textContent = answer.classList.contains('active') ? '‚àí' : '+';
    }

    // Initialize on load
    window.addEventListener('load', init);
  </script>
</body>
  </html>
